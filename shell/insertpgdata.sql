-- ----------------------------
-- 添加扩展
-- ----------------------------
create extension hstore;
create extension postgis;
create extension pgrouting;

-- ----------------------------
-- polygon_background
-- ----------------------------
DROP TABLE IF EXISTS "public"."polygon_background";
CREATE TABLE "public"."polygon_background" (
"fid" varchar(32) COLLATE "default" NOT NULL,
"place_id" varchar(16) COLLATE "default" NOT NULL,
"feature_id" varchar(32) COLLATE "default" NOT NULL,
"floor_id" varchar(16) COLLATE "default",
"name" text COLLATE "default",
"high" float4,
"stime" timestamp(6),
"etime" timestamp(6),
"url" text COLLATE "default",
"geom" "public".geometry(Polygon,4326) NOT NULL)
WITH (OIDS=FALSE);
ALTER TABLE "public"."polygon_background" ADD PRIMARY KEY ("fid");
/* Records */
INSERT INTO "polygon_background" VALUES ('fid--b20d91e_1645a45734d_-7acf', '13', '999999', '01', '德宝4s店', NULL, NULL, NULL, NULL, '0103000020E6100000010000000B0000002A6D9D3883545E405EB373109A2C3F402C83D1116D545E409EDCC889722C3F4091C5952775545E401F509365442C3F4021B8DD1780545E40934A9051582C3F409FCF3EC981545E40605AB2BA492C3F40369EFF9884545E403ABC9D5B4F2C3F40E47EFCF385545E40451A8027572C3F40215C6AA087545E40A9AB1741562C3F402534351E8B545E4017DB3A60902C3F40A816E44385545E40D7DF38BB9D2C3F402A6D9D3883545E405EB373109A2C3F40');

-- ----------------------------
-- polygon
-- ----------------------------
DROP TABLE IF EXISTS "public"."polygon";
CREATE TABLE "public"."polygon" (
"fid" varchar(32) COLLATE "default" NOT NULL,
"place_id" varchar(16) COLLATE "default" NOT NULL,
"feature_id" varchar(32) COLLATE "default" NOT NULL,
"floor_id" varchar(16) COLLATE "default",
"name" text COLLATE "default",
"high" float4,
"stime" timestamp(6),
"etime" timestamp(6),
"url" text COLLATE "default",
"geom" "public".geometry(Polygon,4326) NOT NULL,
"penup" varchar(255) COLLATE "default")
WITH (OIDS=FALSE);
ALTER TABLE "public"."polygon" ADD PRIMARY KEY ("fid");
/* Records */
INSERT INTO "polygon" VALUES ('fid--b20d91e_1645a45734d_-7a97', '13', '10030506', '01', '会客区', NULL, NULL, NULL, NULL, '0103000020E6100000010000000A000000A8C3534289545E4025F66AD2822C3F401EF7FF2A86545E4034947DA57D2C3F40531AD9BE84545E40ECC4D4B5882C3F40CF54DE3885545E40F341133C8D2C3F409F875B2386545E4038CF3FED8B2C3F409B528DA386545E4020AF97518B2C3F404678393F87545E40DD779AE3892C3F4003D351E287545E401700AD2C882C3F406471A79988545E40A0B73073852C3F40A8C3534289545E4025F66AD2822C3F40', NULL);
INSERT INTO "polygon" VALUES ('fid--b20d91e_1645a45734d_-7a9d', '13', '10030603', '01', '储藏', NULL, NULL, NULL, NULL, '0103000020E610000001000000070000006CAA0CAF82545E40FBD68334622C3F40E8D635A881545E405BAB7943692C3F4096F3FC567A545E4055D647055C2C3F40B2761BBA79545E40C80CD7E25F2C3F4033E250F877545E40F9A4CDCF5C2C3F405F44A1B779545E40193A5C1C522C3F406CAA0CAF82545E40FBD68334622C3F40', '');
INSERT INTO "polygon" VALUES ('fid--b20d91e_1645a45734d_-7aa9', '13', '10030602', '01', '展示区', NULL, NULL, NULL, NULL, '0103000020E610000001000000080000008FC2357783545E407197A897912C3F405B0D091D86545E4080BA30067D2C3F4093EB0F5F89545E4099A62A83822C3F402CD09BB889545E403970433B812C3F400779575E89545E40BAA7B8F67A2C3F40CB12F44986545E40777FFE9D752C3F405F3C91DA82545E4072D2127A902C3F408FC2357783545E407197A897912C3F40', NULL);
INSERT INTO "polygon" VALUES ('fid--b20d91e_1645a45734d_-7aab', '13', '10030602', '01', '展示区', NULL, NULL, NULL, NULL, '0103000020E610000001000000140000000FA1333884545E40C26115DF922C3F40DAECE9FE84545E4098C3C83C922C3F408626CA5685545E40B59616E5912C3F403A5F2CC485545E404CDC3D4F912C3F4032BAF32E86545E40B54C27B5902C3F40F598AAA386545E40CC4EF312902C3F40FA0E364B87545E4068B52B018F2C3F40CFCE30D987545E40388B0EDE8D2C3F40CF47274488545E409601CECA8C2C3F40CCA862BD88545E40E8302D498B2C3F408D714B1989545E40356EF9F8892C3F40B69895FA89545E40A6819BCD862C3F40EB926BB889545E40890D6F59822C3F40CEAE1E5489545E40AB8A69C0832C3F40F1BEFEED88545E40E0AB1840852C3F40940EED0388545E40A799F4BA882C3F409A42F56D87545E4088452F518A2C3F40775760B486545E408ABD6C0D8C2C3F40A21F939E84545E407B8E48D38E2C3F400FA1333884545E40C26115DF922C3F40', NULL);
INSERT INTO "polygon" VALUES ('fid--b20d91e_1645a45734d_-7aad', '13', '10030604', '01', '办公区', NULL, NULL, NULL, NULL, '0103000020E6100000010000000B000000C410172D80545E40DBEEA4D28C2C3F401FB70A6082545E406055E0867B2C3F40A3F5697683545E40DCAE6A717D2C3F405C41A55986545E405919C6C2682C3F40FCDD198A88545E40FEE35DA86C2C3F40AE21485C89545E403ED842DA7A2C3F40DC6EFC4386545E4036F02B7B752C3F40E817ACCD82545E404B5D5D67902C3F40DE7BFC3282545E40FD6C014B8F2C3F409A9DE81182545E4066887F46902C3F40C410172D80545E40DBEEA4D28C2C3F40', NULL);
INSERT INTO "polygon" VALUES ('fid--b20d91e_1645a45734d_-7ab1', '13', '10030502', '01', '停车位', NULL, NULL, NULL, NULL, '0103000020E610000001000000060000009216FFE17C545E40B73BEA67772C3F406FD50FD17A545E405D91A437862C3F403DA0FC4C7A545E40661070EA892C3F4003111C727C545E404E0242C28D2C3F40569B95007F545E40FF17C63C7B2C3F409216FFE17C545E40B73BEA67772C3F40', NULL);
INSERT INTO "polygon" VALUES ('fid--b20d91e_1645a45734d_-7ab2', '13', '10030502', '01', '停车位', 0, NULL, NULL, NULL, '0103000020E61000000100000005000000529BE5C27B545E40FF17067B752C3F40E3BF1F9B79545E409ED1AD8B712C3F401A54B9E776545E40703887D2832C3F40D89DB51E79545E40806D4FD2872C3F40529BE5C27B545E40FF17067B752C3F40', NULL);
INSERT INTO "polygon" VALUES ('fid--b20d91e_1645a45734d_-7ab3', '13', '10020511', '01', '停车场', NULL, NULL, NULL, NULL, '0103000020E61000000100000007000000A70C437992545E409351CE704B2C3F40FB6ED5DE8F545E40B0DBC72E5E2C3F40506DCA8880545E4094E1FECC422C3F40AF30021F85545E4090545EBC282C3F402438767388545E40F3A286E52E2C3F407C8E4E1287545E40FF29C92F372C3F40A70C437992545E409351CE704B2C3F40', NULL);
INSERT INTO "polygon" VALUES ('fid--b20d91e_1645a45734d_-7ab4', '13', '10030502', '01', '停车位', 0, NULL, NULL, NULL, '0103000020E610000001000000050000005E62AB5F78545E4013B2A1546F2C3F4014F47B3A76545E402C9F73856B2C3F40D49D155C73545E404192368B7D2C3F4099A428A775545E4067E255A5812C3F405E62AB5F78545E4013B2A1546F2C3F40', NULL);
INSERT INTO "polygon" VALUES ('fid--b20d91e_1645a45734d_-7ab5', '13', '10030502', '01', '停车位', 0, NULL, NULL, NULL, '0103000020E6100000010000000700000042A6F4AC74545E404A61B5B5682C3F4008F300A973545E401AA31DE8662C3F40E91C3B0975545E407F595EA95E2C3F40FD24A9E573545E40E53F51905C2C3F40DF58B3786F545E40E08A419C762C3F40BDA4BBB671545E40AC1F57A17A2C3F4042A6F4AC74545E404A61B5B5682C3F40', NULL);
INSERT INTO "polygon" VALUES ('fid--b20d91e_1645a45734d_-7ab6', '13', '10030502', '01', '停车位', 0, NULL, NULL, NULL, '0103000020E61000000100000005000000490020D472545E40A2717F9B5A2C3F4011226DBC71545E40A8BD9895582C3F40F826342D6D545E4089E79981722C3F40295D914B6E545E4091681783742C3F40490020D472545E40A2717F9B5A2C3F40', NULL);
INSERT INTO "polygon" VALUES ('fid--b20d91e_1645a45734d_-7ab7', '13', '10030610', '01', '维修', NULL, NULL, NULL, NULL, '0103000020E61000000100000005000000D2F475CD7F545E40D6F763A9762C3F4016B6516F83545E40EF573F317D2C3F408B4AF54B86545E40FDC422B3682C3F408C403EBD82545E40B9C74E4B622C3F40D2F475CD7F545E40D6F763A9762C3F40', NULL);
INSERT INTO "polygon" VALUES ('fid--b20d91e_1645a45734d_-7ac3', '13', '10030503', '01', '预检', NULL, NULL, NULL, NULL, '0103000020E610000001000000050000001BC02DC281545E400609CBDE7F2C3F4006E0130880545E4088AC07CC7C2C3F4086D3EC567E545E402A2A6797892C3F40A775992080545E407FA429C48C2C3F401BC02DC281545E400609CBDE7F2C3F40', NULL);
INSERT INTO "polygon" VALUES ('fid--b20d91e_1645a45734d_-7ac5', '13', '10030517', '01', '钣金', NULL, NULL, NULL, NULL, '0103000020E6100000010000000500000027B1C50D7C545E40D999D1DC6F2C3F406FD375FE7D545E40E2E336DB622C3F40E69D3DA681545E407E093D73692C3F40F078B8C07F545E404242D094762C3F4027B1C50D7C545E40D999D1DC6F2C3F40', NULL);
INSERT INTO "polygon" VALUES ('fid--b20d91e_1645a45734d_-7ac7', '13', '10030504', '01', '喷漆', NULL, NULL, NULL, NULL, '0103000020E61000000100000005000000649F8C5A78545E400672C526692C3F40468C8D5A7A545E40358163355C2C3F40599B95F27D545E40FD17A6B1622C3F407E8F1B007C545E40047CD2C26F2C3F40649F8C5A78545E400672C526692C3F40', NULL);
INSERT INTO "polygon" VALUES ('fid--b20d91e_1645a45734d_-7ac9', '13', '10030501', '01', '洗车', NULL, NULL, NULL, NULL, '0103000020E610000001000000050000003AE5E17C76545E409C3B1DC8652C3F401E7E3AF177545E40BDD5E6DF5C2C3F40A64F7DB279545E403B33B008602C3F40D8BCFA5078545E40C9203D11692C3F403AE5E17C76545E409C3B1DC8652C3F40', '');
INSERT INTO "polygon" VALUES ('fid--b20d91e_1645a45734d_-7acb', '13', '10020511', '01', '德宝4s店', NULL, NULL, NULL, NULL, '0103000020E61000000100000011000000768D3CB279545E40E11999D2512C3F403B1E246E76545E409F890CDA652C3F4059A3425082545E40B498A6767B2C3F40611FD8CA81545E408153BC8B7F2C3F4098685C0680545E407438A4677C2C3F40D5E104437E545E401B67EFA6892C3F406EC4F8DF82545E40E11097EC912C3F40357666E083545E40092179BB932C3F4086C6436785545E40612BE455922C3F4029EFFF0487545E407B89BE14902C3F40ADE9260C88545E408E19CCFC8D2C3F40CC464CB988545E40D3DEA5118C2C3F403DBAEA2F89545E4030BAC25D8A2C3F40EC12B9178A545E40BD6D5815872C3F40724E6C0C8A545E40FD8E4107862C3F40E8F2C99188545E40B86150776C2C3F40768D3CB279545E40E11999D2512C3F40', NULL);
INSERT INTO "polygon" VALUES ('fid--b20d91e_1645a45734d_-7acd', '13', '10030603', '01', '仓库', NULL, NULL, NULL, NULL, '0103000020E61000000100000005000000A1AD897F77545E403B083A744A2C3F4019486E2F75545E404E7F1206462C3F40E970935272545E40458372DD562C3F40A7EFBEA674545E4001D9471F5B2C3F40A1AD897F77545E403B083A744A2C3F40', NULL);

-- ----------------------------
-- point
-- ----------------------------
DROP TABLE IF EXISTS "public"."point";
CREATE TABLE "public"."point" (
"fid" varchar(32) COLLATE "default" NOT NULL,
"place_id" varchar(16) COLLATE "default" NOT NULL,
"feature_id" varchar(32) COLLATE "default" NOT NULL,
"floor_id" varchar(16) COLLATE "default",
"name" text COLLATE "default",
"node" int2,
"cnodeu" int4,
"cnoded" int4,
"stime" timestamp(6),
"etime" timestamp(6),
"url" text COLLATE "default",
"geom" "public".geometry(Point,4326) NOT NULL,
"angle" varchar(10) COLLATE "default")
WITH (OIDS=FALSE);
ALTER TABLE "public"."point" ADD PRIMARY KEY ("fid");
/* Records */
INSERT INTO "point" VALUES ('fid--b20d91e_1645a45734d_-7a99', '13', '30060300', '01', '会客区', 0, 0, 0, NULL, NULL, NULL, '0101000020E6100000237845B886545E40E3D3910B852C3F40', '0');
INSERT INTO "point" VALUES ('fid--b20d91e_1645a45734d_-7a9b', '13', '30060300', '01', '储藏', 0, 0, 0, NULL, NULL, NULL, '0101000020E610000039F911597D545E40FB17E60E5C2C3F40', '0');
INSERT INTO "point" VALUES ('fid--b20d91e_1645a45734d_-7a9f', '13', '30060300', '01', '仓库', 0, 0, 0, NULL, NULL, NULL, '0101000020E610000039F9D18374545E40FB17E61A502C3F40', '0');
INSERT INTO "point" VALUES ('fid--b20d91e_1645a45734d_-7aa1', '13', '30060300', '01', '展示区', 0, 0, 0, NULL, NULL, NULL, '0101000020E61000003FCB285287545E40CF2B879E8B2C3F40', '0');
INSERT INTO "point" VALUES ('fid--b20d91e_1645a45734d_-7aa3', '13', '30060300', '01', '展示区', 0, 0, 0, NULL, NULL, NULL, '0101000020E610000039F9113187545E40FB17E63C792C3F40', '0');
INSERT INTO "point" VALUES ('fid--b20d91e_1645a45734d_-7aa5', '13', '30060300', '01', '零件仓库', 0, 0, 0, NULL, NULL, NULL, '0101000020E610000039F9911A87545E40FB17E6646F2C3F40', '0');
INSERT INTO "point" VALUES ('fid--b20d91e_1645a45734d_-7aa7', '13', '30060300', '01', '办公区', 0, 0, 0, NULL, NULL, NULL, '0101000020E61000003FCBA87C82545E40CF2B870F842C3F40', '0');
INSERT INTO "point" VALUES ('fid--b20d91e_1645a45734d_-7aaf', '13', '30060300', '01', '停车场', 0, 0, 0, NULL, NULL, NULL, '0101000020E610000039F9115176545E40FB17E6B8752C3F40', '0');
INSERT INTO "point" VALUES ('fid--b20d91e_1645a45734d_-7ab5', '13', '30060300', '01', '维修', 0, 0, 0, NULL, NULL, NULL, '0101000020E610000011822B8582545E402CF55AE7722C3F40', '0');
INSERT INTO "point" VALUES ('fid--b20d91e_1645a45734d_-7ab9', '13', '30060000', '01', '上海德宝汽车服务有限公司', 0, 0, 0, NULL, NULL, NULL, '0101000020E610000039F991617C545E40FB17E680712C3F40', '0');
INSERT INTO "point" VALUES ('fid--b20d91e_1645a45734d_-7abb', '13', '30060300', '01', '预检', 0, 0, 0, NULL, NULL, NULL, '0101000020E61000000F001DEC7F545E409F84972F852C3F40', '0');
INSERT INTO "point" VALUES ('fid--b20d91e_1645a45734d_-7abd', '13', '30060300', '01', '钣金', 0, 0, 0, NULL, NULL, NULL, '0101000020E6100000B79148D07E545E40F9022FAB6C2C3F40', '0');
INSERT INTO "point" VALUES ('fid--b20d91e_1645a45734d_-7abf', '13', '30060300', '01', '喷漆', 0, 0, 0, NULL, NULL, NULL, '0101000020E6100000442BE80C7B545E404D1CA24A662C3F40', '0');
INSERT INTO "point" VALUES ('fid--b20d91e_1645a45734d_-7ac1', '13', '30060300', '01', '洗车', 0, 0, 0, NULL, NULL, NULL, '0101000020E610000039F991FC77545E40FB17E6FA602C3F40', '0');

-- ----------------------------
-- polyline
-- ----------------------------
DROP TABLE IF EXISTS "public"."polyline";
CREATE TABLE "public"."polyline" (
"fid" varchar COLLATE "default" NOT NULL,
"place_id" varchar(16) COLLATE "default" NOT NULL,
"feature_id" varchar(32) COLLATE "default" NOT NULL,
"floor_id" varchar(16) COLLATE "default" NOT NULL,
"name" text COLLATE "default",
"length" float8,
"oneway" int2,
"high" float4,
"stime" timestamp(6),
"etime" timestamp(6),
"source" int4,
"target" int4,
"geom" "public".geometry(Linestring,4326),
"id" int4,
"reverse_cost" float8,
"x1" float8,
"y1" float8,
"x2" float8,
"y2" float8)
WITH (OIDS=FALSE);
ALTER TABLE "public"."polyline" ADD PRIMARY KEY ("fid");

SELECT pgr_createTopology('polyline',0.00001, 'geom', 'id');
CREATE INDEX source_idx ON polyline("source");
CREATE INDEX target_idx ON polyline("target");
update polyline set length =st_length(geom);
UPDATE polyline SET reverse_cost =length;
UPDATE polyline SET x1 =ST_x(ST_PointN(geom, 1));
UPDATE polyline SET y1 =ST_y(ST_PointN(geom, 1));
UPDATE polyline SET x2 =ST_x(ST_PointN(geom, ST_NumPoints(geom)));
UPDATE polyline SET y2 =ST_y(ST_PointN(geom, ST_NumPoints(geom)));
/* Records */

-- ----------------------------
-- region
-- ----------------------------
DROP TABLE IF EXISTS "public"."region";
CREATE TABLE "public"."region" (
"fid" varchar(32) COLLATE "default" NOT NULL,
"bid" varchar(32) COLLATE "default" NOT NULL,
"place_id" varchar(16) COLLATE "default" NOT NULL,
"floor_id" varchar(32) COLLATE "default",
"name" text COLLATE "default",
"geom" "public".geometry(Polygon,4326) NOT NULL)
WITH (OIDS=FALSE);
ALTER TABLE "public"."region" ADD PRIMARY KEY ("fid");

-- ----------------------------
-- priority
-- ----------------------------
DROP TABLE IF EXISTS "public"."priority";
CREATE TABLE "public"."priority" (
"feature_id" varchar COLLATE "default" NOT NULL,
"level" int4)
WITH (OIDS=FALSE);
ALTER TABLE "public"."priority" ADD PRIMARY KEY ("feature_id");
/* Records */
INSERT INTO "public"."priority" VALUES ('999999', '1');
INSERT INTO "public"."priority" VALUES ('10020401', '101');
INSERT INTO "public"."priority" VALUES ('10020511', '102');
INSERT INTO "public"."priority" VALUES ('10030501', '10201');
INSERT INTO "public"."priority" VALUES ('10030502', '10201');
INSERT INTO "public"."priority" VALUES ('10030503', '10201');
INSERT INTO "public"."priority" VALUES ('10030504', '10201');
INSERT INTO "public"."priority" VALUES ('10030505', '1020099');
INSERT INTO "public"."priority" VALUES ('10030506', '10201');
INSERT INTO "public"."priority" VALUES ('10030507', '10201');
INSERT INTO "public"."priority" VALUES ('10030508', '10201');
INSERT INTO "public"."priority" VALUES ('10030509', '10201');
INSERT INTO "public"."priority" VALUES ('10030510', '10201');
INSERT INTO "public"."priority" VALUES ('10030511', '10201');
INSERT INTO "public"."priority" VALUES ('10030512', '10201');
INSERT INTO "public"."priority" VALUES ('10030513', '10201');
INSERT INTO "public"."priority" VALUES ('10030514', '10201');
INSERT INTO "public"."priority" VALUES ('10030515', '10201');
INSERT INTO "public"."priority" VALUES ('10030516', '10201');
INSERT INTO "public"."priority" VALUES ('10030517', '10202');
INSERT INTO "public"."priority" VALUES ('10030518', '10201');
INSERT INTO "public"."priority" VALUES ('10030519', '10203');
INSERT INTO "public"."priority" VALUES ('10030520', '10204');
INSERT INTO "public"."priority" VALUES ('10030599', '10201');
INSERT INTO "public"."priority" VALUES ('10030602', '1020001');
INSERT INTO "public"."priority" VALUES ('10030603', '1020099');
INSERT INTO "public"."priority" VALUES ('10030604', '1020002');
INSERT INTO "public"."priority" VALUES ('10030605', '1020002');
INSERT INTO "public"."priority" VALUES ('10030606', '1020099');
INSERT INTO "public"."priority" VALUES ('10030607', '1020099');
INSERT INTO "public"."priority" VALUES ('10030608', '1020099');
INSERT INTO "public"."priority" VALUES ('10030609', '1020099');
INSERT INTO "public"."priority" VALUES ('10030610', '1020099');

-- ----------------------------
-- poi_collection
-- ----------------------------
DROP TABLE IF EXISTS "public"."poi_collection";
CREATE TABLE "public"."poi_collection" (
"id" text COLLATE "default" NOT NULL,
"poi_id" varchar COLLATE "default",
"l_id" text COLLATE "default",
"user_id" text COLLATE "default",
"place_id" varchar(16) COLLATE "default",
"floor_id" varchar(16) COLLATE "default",
"geom" "public".geometry(Point,4326))
WITH (OIDS=FALSE);
ALTER TABLE "public"."poi_collection" ADD PRIMARY KEY ("id");

-- ----------------------------
-- electronic_fence
-- ----------------------------
DROP TABLE IF EXISTS "public"."electronic_fence";
CREATE TABLE "public"."electronic_fence" (
"fid" varchar(32) COLLATE "default" NOT NULL,
"place_id" varchar(16) COLLATE "default",
"floor_id" varchar(32) COLLATE "default",
"type_id" varchar(16) COLLATE "default",
"name" text COLLATE "default",
"stime" timestamp(6),
"etime" timestamp(6),
"geom" "public".geometry(Polygon,4326),
"fence_id" varchar COLLATE "default")
WITH (OIDS=FALSE);
ALTER TABLE "public"."electronic_fence" ADD PRIMARY KEY ("fid");

-- ----------------------------
-- camerainfo
-- ----------------------------
DROP TABLE IF EXISTS "public"."camerainfo";
CREATE TABLE "public"."camerainfo" (
"fid" varchar COLLATE "default" NOT NULL,
"camera_ip" text COLLATE "default",
"camera_name" text COLLATE "default",
"class_id" int4,
"organ" varchar COLLATE "default",
"nvr_ip" text COLLATE "default",
"remark" text COLLATE "default",
"place_id" varchar COLLATE "default",
"floor_id" varchar COLLATE "default",
"geom" "public".geometry(Point,4326))
WITH (OIDS=FALSE);
ALTER TABLE "public"."camerainfo" ADD PRIMARY KEY ("fid");

-- ----------------------------
-- attendance_fence
-- ----------------------------
DROP TABLE IF EXISTS "public"."attendance_fence";
CREATE TABLE "public"."attendance_fence" (
"fid" varchar(32) COLLATE "default" NOT NULL,
"place_id" varchar(16) COLLATE "default",
"floor_id" varchar(32) COLLATE "default",
"name" text COLLATE "default",
"stime" timestamp(6),
"etime" timestamp(6),
"fence_id" varchar COLLATE "default",
"geom" "public".geometry(Polygon,4326))
WITH (OIDS=FALSE);
ALTER TABLE "public"."attendance_fence" ADD PRIMARY KEY ("fid");

-- ----------------------------
-- asset_init_locate
-- ----------------------------
DROP TABLE IF EXISTS "public"."asset_init_locate";
CREATE TABLE "public"."asset_init_locate" (
"fid" varchar COLLATE "default" NOT NULL,
"l_id" text COLLATE "default",
"asset_name" text COLLATE "default",
"abbreviation" text COLLATE "default",
"class_id" int4,
"grade" int4,
"fence_num" varchar COLLATE "default",
"place_id" varchar COLLATE "default",
"floor_id" varchar COLLATE "default",
"init_geom" "public".geometry(Point,4326),
"asset_version" varchar(255) COLLATE "default")
WITH (OIDS=FALSE);
ALTER TABLE "public"."asset_init_locate" ADD PRIMARY KEY ("fid");


-- ----------------------------
-- detain
-- ----------------------------
DROP TABLE IF EXISTS "public"."detain";
CREATE TABLE "public"."detain" (
"fid" varchar(32) COLLATE "default" NOT NULL,
"bid" varchar(32) COLLATE "default" NOT NULL,
"place_id" varchar(16) COLLATE "default" NOT NULL,
"floor_id" varchar(32) COLLATE "default",
"name" text COLLATE "default",
"rentention_time" int4,
"geom" "public".geometry(Polygon,4326) NOT NULL)
WITH (OIDS=FALSE);
ALTER TABLE "public"."detain" ADD PRIMARY KEY ("fid");

